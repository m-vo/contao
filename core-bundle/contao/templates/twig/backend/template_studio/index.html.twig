{% extends '@Contao/be_main.html5' %}

{% block main %}
    <main id="main"
          aria-labelledby="main_headline"
          data-controller="contao--template-studio"
          data-contao--template-studio-resolve-and-open-url-value="{{ path('_contao_template_studio_resolve_and_open') }}"
          data-contao--template-studio-block-info-url-value="{{ path('_contao_template_studio_block_info') }}"
          data-action="keydown@document->contao--template-studio#trackKeydown"
    >
        {# Headline and fullscreen-mode button #}
        <div class="main_headline-wrapper">
            <h1 id="main_headline">{{ headline }}</h1>
            <button role="button" class="fullscreen-mode" data-action="contao--template-studio#enterFullscreen"
                    aria-label="Open in full-screen mode">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="lucide lucide-fullscreen">
                    <path d="M3 7V5a2 2 0 0 1 2-2h2"/>
                    <path d="M17 3h2a2 2 0 0 1 2 2v2"/>
                    <path d="M21 17v2a2 2 0 0 1-2 2h-2"/>
                    <path d="M7 21H5a2 2 0 0 1-2-2v-2"/>
                    <rect width="10" height="8" x="7" y="8" rx="1"/>
                </svg>
            </button>
        </div>

        <section id="template-studio" class="content chrome" data-contao--template-studio-target="chrome">
            {# Navigation #}
            <div id="template-studio--browser" data-component-url="{{ path('_contao_template_studio_browser') }}">
                {% include("@Contao/backend/template_studio/browser/_browser.html.twig") %}
            </div>

            {# Main editor section with multiple tabs #}
            <div data-controller="contao--tabs" id="template-studio--tabs">
                <ul class="tab-navigation" data-contao--tabs-target="navigation"></ul>
                <div id="template-studio--tab-panels"></div>
                <div id="template-studio--howto">
                    <div class="box">
                        <h3>Getting started</h3>
                        <p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                 fill="none"
                                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                 class="lucide lucide-arrow-left">
                                <path d="m12 19-7-7 7-7"/>
                                <path d="M19 12H5"/>
                            </svg>
                            Start by selecting a template from the browser. You can then view all its representations
                            and make your own adjustments.
                        </p>
                    </div>
                </div>
            </div>

            {# Info panel #}
            <div id="template-studio--info" data-panel></div>

            {# Overlays #}
            <div id="template-studio--message"></div>
            <div id="template-studio--dialog" data-panel></div>
        </section>
    </main>
{% endblock %}
