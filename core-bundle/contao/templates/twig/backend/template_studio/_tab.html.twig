<div class="tab-panel" data-contao--tabs-target="tab" data-label="{{ identifier }}"
     id="template-studio--tab_{{ identifier }}">
    {% if actions %}
        <div class="actions">
            {% for action in actions %}
                {% include '@Contao/backend/template_studio/_action_button.html.twig' with {identifier, action} only %}
            {% endfor %}
        </div>
    {% endif %}

    {% for template in templates %}
        <div class="template">
            {# Label #}
            {% include '@Contao/backend/template_studio/_template_name.html.twig' with template only %}
            {% include '@Contao/backend/template_studio/_template_badges.html.twig' with {
                badges: [
                    template.namespace == 'Contao_Global' ? 'custom' : null,
                    loop.last ? 'origin' : null,
                ]|filter(e => e is not null)
            } %}

            {# Editor #}
            <div class="editor" data-contao--template-studio-target="editor">
                <textarea
                    id="template-studio--editor_{{ loop.index }}"
                    data-name="{{ template.name }}"
                    data-resource-url="{{ path('_contao_template_studio_save', {identifier}) }}"
                    {% if not loop.first %} readonly{% endif %}
                >{{ template.code }}</textarea>
            </div>

            {# Actual filename #}
            <p class="template--path tl_help tl_tip">{{ template.path }}</p>
        </div>

        {% if not loop.last %}
            <div class="template--inheritance-chain">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-move-down">
                    <path d="M8 18L12 22L16 18"></path>
                    <path d="M12 2V22"></path>
                </svg>
            </div>
        {% endif %}
    {% endfor %}
</div>

